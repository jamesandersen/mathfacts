!function(a){"use strict";function b(a,b,c,d){if("addEventListener"in a)try{a.addEventListener(b,c,d)}catch(e){if("object"!=typeof c||!c.handleEvent)throw e;a.addEventListener(b,function(a){c.handleEvent.call(c,a)},d)}else"attachEvent"in a&&("object"==typeof c&&c.handleEvent?a.attachEvent("on"+b,function(){c.handleEvent.call(c)}):a.attachEvent("on"+b,c))}function c(a,b,c,d){if("removeEventListener"in a)try{a.removeEventListener(b,c,d)}catch(e){if("object"!=typeof c||!c.handleEvent)throw e;a.removeEventListener(b,function(a){c.handleEvent.call(c,a)},d)}else"detachEvent"in a&&("object"==typeof c&&c.handleEvent?a.detachEvent("on"+b,function(){c.handleEvent.call(c)}):a.detachEvent("on"+b,c))}window.MBP=window.MBP||{},MBP.viewportmeta=a.querySelector&&a.querySelector('meta[name="viewport"]'),MBP.ua=navigator.userAgent,MBP.scaleFix=function(){MBP.viewportmeta&&/iPhone|iPad|iPod/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)&&(MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",a.addEventListener("gesturestart",MBP.gestureStart,!1))},MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},MBP.BODY_SCROLL_TOP=!1,MBP.getScrollTop=function(){var b=window,c=a;return b.pageYOffset||"CSS1Compat"===c.compatMode&&c.documentElement.scrollTop||c.body.scrollTop||0},MBP.hideUrlBar=function(){var a=window;location.hash||MBP.BODY_SCROLL_TOP===!1||a.scrollTo(0,1===MBP.BODY_SCROLL_TOP?0:1)},MBP.hideUrlBarOnLoad=function(){var a,b=window,c=b.document;!location.hash&&b.addEventListener&&(window.scrollTo(0,1),MBP.BODY_SCROLL_TOP=1,a=setInterval(function(){c.body&&(clearInterval(a),MBP.BODY_SCROLL_TOP=MBP.getScrollTop(),MBP.hideUrlBar())},15),b.addEventListener("load",function(){setTimeout(function(){MBP.getScrollTop()<20&&MBP.hideUrlBar()},0)}))},MBP.fastButton=function(a,b,c){if(this.handler=b,this.pressedClass="undefined"==typeof c?"pressed":c,MBP.listenForGhostClicks(),a.length&&a.length>1)for(var d in a)this.addClickEvent(a[d]);else this.addClickEvent(a)},MBP.fastButton.prototype.handleEvent=function(a){switch(a=a||window.event,a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onClick(a);break;case"click":this.onClick(a)}},MBP.fastButton.prototype.onTouchStart=function(b){var c=b.target||b.srcElement;b.stopPropagation(),c.addEventListener("touchend",this,!1),a.body.addEventListener("touchmove",this,!1),this.startX=b.touches[0].clientX,this.startY=b.touches[0].clientY,c.className+=" "+this.pressedClass},MBP.fastButton.prototype.onTouchMove=function(a){(Math.abs(a.touches[0].clientX-this.startX)>10||Math.abs(a.touches[0].clientY-this.startY)>10)&&this.reset(a)},MBP.fastButton.prototype.onClick=function(a){a=a||window.event;var b=a.target||a.srcElement;a.stopPropagation&&a.stopPropagation(),this.reset(a),this.handler.apply(a.currentTarget,[a]),"touchend"==a.type&&MBP.preventGhostClick(this.startX,this.startY);var c=new RegExp(" ?"+this.pressedClass,"gi");b.className=b.className.replace(c,"")},MBP.fastButton.prototype.reset=function(b){var d=b.target||b.srcElement;c(d,"touchend",this,!1),c(a.body,"touchmove",this,!1);var e=new RegExp(" ?"+this.pressedClass,"gi");d.className=d.className.replace(e,"")},MBP.fastButton.prototype.addClickEvent=function(a){b(a,"touchstart",this,!1),b(a,"click",this,!1)},MBP.preventGhostClick=function(a,b){MBP.coords.push(a,b),window.setTimeout(function(){MBP.coords.splice(0,2)},2500)},MBP.ghostClickHandler=function(a){if(!MBP.hadTouchEvent&&MBP.dodgyAndroid)return a.stopPropagation(),a.preventDefault(),void 0;for(var b=0,c=MBP.coords.length;c>b;b+=2){var d=MBP.coords[b],e=MBP.coords[b+1];Math.abs(a.clientX-d)<25&&Math.abs(a.clientY-e)<25&&(a.stopPropagation(),a.preventDefault())}},MBP.dodgyAndroid="ontouchstart"in window&&-1!=navigator.userAgent.indexOf("Android 2.3"),MBP.listenForGhostClicks=function(){var c=!1;return function(){c||(a.addEventListener&&a.addEventListener("click",MBP.ghostClickHandler,!0),b(a.documentElement,"touchstart",function(){MBP.hadTouchEvent=!0},!1),c=!0)}}(),MBP.coords=[],MBP.autogrow=function(a,b){function c(){var a=this.scrollHeight,b=this.clientHeight;a>b&&(this.style.height=a+3*e+"px")}var d=b?b:12,e=a.currentStyle?a.currentStyle.lineHeight:getComputedStyle(a,null).lineHeight;e=-1==e.indexOf("px")?d:parseInt(e,10),a.style.overflow="hidden",a.addEventListener?a.addEventListener("input",c,!1):a.attachEvent("onpropertychange",c)},MBP.enableActive=function(){a.addEventListener("touchstart",function(){},!1)},MBP.preventScrolling=function(){a.addEventListener("touchmove",function(a){"range"!==a.target.type&&a.preventDefault()},!1)},MBP.preventZoom=function(){for(var b=a.querySelectorAll("input, select, textarea"),c="width=device-width,initial-scale=1,maximum-scale=",d=0,e=b.length,f=function(){MBP.viewportmeta.content=c+"1"},g=function(){MBP.viewportmeta.content=c+"10"};e>d;d++)b[d].onfocus=f,b[d].onblur=g},MBP.startupImage=function(){var b,c,d,e,f,g;d=window.devicePixelRatio,e=a.getElementsByTagName("head")[0],"iPad"===navigator.platform?(b=2===d?"img/startup/startup-tablet-portrait-retina.png":"img/startup/startup-tablet-portrait.png",c=2===d?"img/startup/startup-tablet-landscape-retina.png":"img/startup/startup-tablet-landscape.png",f=a.createElement("link"),f.setAttribute("rel","apple-touch-startup-image"),f.setAttribute("media","screen and (orientation: portrait)"),f.setAttribute("href",b),e.appendChild(f),g=a.createElement("link"),g.setAttribute("rel","apple-touch-startup-image"),g.setAttribute("media","screen and (orientation: landscape)"),g.setAttribute("href",c),e.appendChild(g)):(b=2===d?"img/startup/startup-retina.png":"img/startup/startup.png",b=568===screen.height?"img/startup/startup-retina-4in.png":b,f=a.createElement("link"),f.setAttribute("rel","apple-touch-startup-image"),f.setAttribute("href",b),e.appendChild(f)),navigator.platform.match(/iPhone|iPod/i)&&568===screen.height&&navigator.userAgent.match(/\bOS 6_/)&&MBP.viewportmeta&&(MBP.viewportmeta.content=MBP.viewportmeta.content.replace(/\bwidth\s*=\s*320\b/,"width=320.1").replace(/\bwidth\s*=\s*device-width\b/,""))}}(document),window.log=function(){"use strict";log.history=log.history||[],log.history.push(arguments),this.console&&(arguments.callee=arguments.callee.caller,console.log(Array.prototype.slice.call(arguments)))},function(a){function b(){}for(var c,d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");c=d.pop();)a[c]=a[c]||b}(window.console=window.console||{}),window.MF=function(){"use strict";function a(a){$(a).css("-webkit-transition-duration","0s"),$(a).css("-ms-transition-duration","0s"),$(a).css("-o-transition-duration","0s"),$(a).css("-moz-transition-duration","0s"),$(a).css("transition-duration","0s"),$(a).toggleClass("problemOut",!1),$(a).toggleClass("problemActive",!1),$(a).css("-webkit-transform","skewx(-30deg) translatex(-150px)")}function b(){var a,b=+new Date-x;b>1e3*o?clearTimeout(w):(a=100*(b/(1e3*o)),$("#elapsed").height(a+"%"))}function c(){clearTimeout(w);var a=$("#questions").find(".correct").length;$("#results").css("display","block"),$("#results > div").html("Done!\n"+a+" of "+p+" correct")}function d(){var b,d,e=Math.floor(4*Math.random()+1),f=Math.floor(Math.random()*q+1),g=Math.floor(Math.random()*q+1),h="+",i=!1;for(t===m.TIMED&&s>=0&&$("#questions").find("div").eq(s).toggleClass("current"),s++,t===m.TIMED&&(s===p?c():$("#questions").find("div").eq(s).toggleClass("current"));!i;)i=!0,1===e&&v&n.ADDITION?l=f+g:2===e&&v&n.SUBTRACTION?(f=Math.floor(Math.random()*r+1),g=Math.floor(Math.random()*r+1),b=f,f+=g,l=b,h="-"):3===e&&v&n.MULTIPLICATION?h="*":4===e&&v&n.DIVISION?h="/":(e=Math.floor(4*Math.random()+1),i=!1);d=$(".problem").eq(u),d.toggleClass("problemActive",!1),d.toggleClass("problemOut",!0),d.css("-webkit-transform","skewx(30deg) translatex(150px)"),y=d,setTimeout(function(){a(y.get(0))},500),u=0===u?1:0,d=$(".problem").eq(u),d.find(".num1").text(f),d.find(".operator").text(h),d.find(".num2").text(g),d.css("-webkit-transition-duration","0.5s"),d.css("-moz-transition-duration","0.5s"),d.css("-o-transition-duration","0.5s"),d.css("-ms-transition-duration","0.5s"),d.css("transition-duration","0.5s"),d.toggleClass("problemActive",!0),d.css("-webkit-transform","skewx(0deg) translatex(0px)")}function e(){t=m.PRACTICE,$("#startup").css("display","none"),$("#return").css("visibility","visible"),$(".question").css("display","block"),d()}function f(){var a,c,e;for(t=m.TIMED,$("#startup").css("display","none"),$("#progress").css("visibility","visible"),$(".submit").css("visibility","visible"),$(".question").css("display","block"),s=-1,c=$("#questions"),c.empty(),a=0;p>a;a++)e=$('<div class="next"/>'),c.append(e);x=+new Date,$("#elapsed").height("0%"),w=setInterval(b,500),d()}function g(){$("#results").css("display","none"),$("#return").css("visibility","hidden"),$("#progress").css("visibility","hidden"),$("#startup").css("display","block"),$(".question").css("display","none"),$(".submit").css("visibility","hidden"),clearTimeout(w),$(".problem").each(function(b,c){a(c)})}function h(){$(".response").val("")}function i(a){var b,c=parseInt(a,10)===l;t===m.TIMED&&(b=$("#questions"),b.find("div").eq(s).toggleClass("next"),b.find("div").eq(s).toggleClass(c?"correct":"incorrect")),(c||t===m.TIMED)&&(h(),d())}function j(a){return a>=48&&57>=a||a>=96&&105>=a||27===a||8===a}function k(){$("#next").click(d),$("#practice").click(e),$("#timed").click(f),$("#return").click(g),$("#done").click(g);var a=$(".response");a.keydown(function(a){return j(a.keyCode)}),a.keyup(function(a){"27"===a.keyCode?h():13===a.keyCode?t===m.TIMED&&i($(this).val()):t!==m.TIMED&&i($(this).val())}),a.change(function(){i($(this).val())}),a.focus()}var l,m={STARTUP:0,PRACTICE:1,TIMED:2},n={ADDITION:1,SUBTRACTION:2,MULTIPLICATION:4,DIVISION:8},o=120,p=30,q=12,r=7,s=0,t=m.STARTUP,u=0,v=n.ADDITION|n.SUBTRACTION,w=null,x=null,y=null;return{nextQuestion:d,clearResponse:h,responseUpdated:i,isValidResponseKey:j,init:k}}(),$(document).ready(function(){"use strict";$.fn.mobileMenu&&$("ol#id").mobileMenu({switchWidth:768,topOptionText:"Choose a page",indentString:"&nbsp;&nbsp;&nbsp;"}),$.fn.placeholder&&$("input, textarea").placeholder(),window.MF.init()});