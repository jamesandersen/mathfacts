!function(a){window.MBP=window.MBP||{},MBP.viewportmeta=a.querySelector&&a.querySelector('meta[name="viewport"]'),MBP.ua=navigator.userAgent,MBP.scaleFix=function(){MBP.viewportmeta&&/iPhone|iPad/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)&&(MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",a.addEventListener("gesturestart",MBP.gestureStart,!1))},MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},MBP.hideUrlBar=function(){/iPhone/.test(MBP.ua)&&!pageYOffset&&!location.hash&&setTimeout(function(){window.scrollTo(0,1)},1e3)},MBP.fastButton=function(a,b){this.element=a,this.handler=b,a.addEventListener&&(a.addEventListener("touchstart",this,!1),a.addEventListener("click",this,!1))},MBP.fastButton.prototype.handleEvent=function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onClick(a);break;case"click":this.onClick(a)}},MBP.fastButton.prototype.onTouchStart=function(b){b.stopPropagation(),this.element.addEventListener("touchend",this,!1),a.body.addEventListener("touchmove",this,!1),this.startX=b.touches[0].clientX,this.startY=b.touches[0].clientY,this.element.style.backgroundColor="rgba(0,0,0,.7)"},MBP.fastButton.prototype.onTouchMove=function(a){(Math.abs(a.touches[0].clientX-this.startX)>10||Math.abs(a.touches[0].clientY-this.startY)>10)&&this.reset()},MBP.fastButton.prototype.onClick=function(a){a.stopPropagation(),this.reset(),this.handler(a),"touchend"==a.type&&MBP.preventGhostClick(this.startX,this.startY),this.element.style.backgroundColor=""},MBP.fastButton.prototype.reset=function(){this.element.removeEventListener("touchend",this,!1),a.body.removeEventListener("touchmove",this,!1),this.element.style.backgroundColor=""},MBP.preventGhostClick=function(a,b){MBP.coords.push(a,b),window.setTimeout(function(){MBP.coords.splice(0,2)},2500)},MBP.ghostClickHandler=function(a){for(var b=0,c=MBP.coords.length;c>b;b+=2){var d=MBP.coords[b],e=MBP.coords[b+1];Math.abs(a.clientX-d)<25&&Math.abs(a.clientY-e)<25&&(a.stopPropagation(),a.preventDefault())}},a.addEventListener&&a.addEventListener("click",MBP.ghostClickHandler,!0),MBP.coords=[],MBP.splash=function(){var b="iPad"===navigator.platform?"h/":"l/";a.write('<link rel="apple-touch-startup-image" href="/img/'+b+'splash.png" />')},MBP.autogrow=function(a,b){function c(){var a=this.scrollHeight,b=this.clientHeight;a>b&&(this.style.height=a+3*e+"px")}var d=b?b:12,e=a.currentStyle?a.currentStyle.lineHeight:getComputedStyle(a,null).lineHeight;e=-1==e.indexOf("px")?d:parseInt(e,10),a.style.overflow="hidden",a.addEventListener?a.addEventListener("keyup",c,!1):a.attachEvent("onkeyup",c)}}(document),window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&(arguments.callee=arguments.callee.caller,console.log(Array.prototype.slice.call(arguments)))},function(a){function b(){}for(var c,d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");c=d.pop();)a[c]=a[c]||b}(window.console=window.console||{}),function(a){var b=0;a.fn.mobileMenu=function(c){function d(c){return c.attr("id")?a("#mobileMenu_"+c.attr("id")).length>0:(b++,c.attr("id","mm"+b),a("#mobileMenu_mm"+b).length>0)}function e(b){b.hide(),a("#mobileMenu_"+b.attr("id")).show()}function f(b){if(b.is("ul, ol")){var c='<select id="mobileMenu_'+b.attr("id")+'" class="mobileMenu">';c+='<option value="">'+h.topOptionText+"</option>",b.find("li").each(function(){var b="",d=a(this).parents("ul, ol").length;for(i=1;d>i;i++)b+=h.indentString;d=a(this).find("a:first-child").attr("href"),b+=a(this).clone().children("ul, ol").remove().end().text(),c+='<option value="'+d+'">'+b+"</option>"}),c+="</select>",b.parent().append(c),a("#mobileMenu_"+b.attr("id")).change(function(){var b=a(this);null!==b.val()&&(document.location.href=b.val())}),e(b)}else alert("mobileMenu will only work with UL or OL elements!")}function g(b){a(window).width()<h.switchWidth&&!d(b)?f(b):a(window).width()<h.switchWidth&&d(b)?e(b):!(a(window).width()<h.switchWidth)&&d(b)&&(b.show(),a("#mobileMenu_"+b.attr("id")).hide())}var h={switchWidth:768,topOptionText:"Select a page",indentString:"&nbsp;&nbsp;&nbsp;"};return this.each(function(){c&&a.extend(h,c);var b=a(this);a(window).resize(function(){g(b)}),g(b)})}}(jQuery),function(a){function b(a,b){for(var c=a,d=0;a=a[b];)c.tagName==a.tagName&&d++;return d}function c(a,c,d){if(a=b(a,d),"odd"==c||"even"==c)d=2,a-="odd"!=c;else{var e=c.indexOf("n");e>-1?(d=parseInt(c,10)||parseInt(c.substring(0,e)+"1",10),a-=(parseInt(c.substring(e+1),10)||0)-1):(d=a+1,a-=parseInt(c,10)-1)}return(0>d?0>=a:a>=0)&&0==a%d}var d={"first-of-type":function(a){return 0==b(a,"previousSibling")},"last-of-type":function(a){return 0==b(a,"nextSibling")},"only-of-type":function(a){return d["first-of-type"](a)&&d["last-of-type"](a)},"nth-of-type":function(a,b,d){return c(a,d[3],"previousSibling")},"nth-last-of-type":function(a,b,d){return c(a,d[3],"nextSibling")}};a.extend(a.expr[":"],d)}(jQuery),function(a,b,c){function d(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function e(){var a=c(this);a.val()===a.attr("placeholder")&&a.hasClass("placeholder")&&(a.data("placeholder-password")?a.hide().next().show().focus().attr("id",a.removeAttr("id").data("placeholder-id")):a.val("").removeClass("placeholder"))}function f(){var a,b=c(this),f=this.id;if(""===b.val()){if(b.is(":password")){if(!b.data("placeholder-textinput")){try{a=b.clone().attr({type:"text"})}catch(g){a=c("<input>").attr(c.extend(d(this),{type:"text"}))}a.removeAttr("name").data("placeholder-password",!0).data("placeholder-id",f).bind("focus.placeholder",e),b.data("placeholder-textinput",a).data("placeholder-id",f).before(a)}b=b.removeAttr("id").hide().prev().attr("id",f).show()}b.addClass("placeholder").val(b.attr("placeholder"))}else b.removeClass("placeholder")}var g="placeholder"in b.createElement("input"),h="placeholder"in b.createElement("textarea");g&&h?(c.fn.placeholder=function(){return this},c.fn.placeholder.input=c.fn.placeholder.textarea=!0):(c.fn.placeholder=function(){return this.filter((g?"textarea":":input")+"[placeholder]").bind("focus.placeholder",e).bind("blur.placeholder",f).trigger("blur.placeholder").end()},c.fn.placeholder.input=g,c.fn.placeholder.textarea=h,c(function(){c("form").bind("submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("unload.placeholder",function(){c(".placeholder").val("")}))}(this,document,jQuery),window.MF=function(){var a,b={STARTUP:0,PRACTICE:1,TIMED:2},c={ADDITION:1,SUBTRACTION:2,MULTIPLICATION:4,DIVISION:8},d=120,e=30,f=12,g=7,h=0,i=b.STARTUP,j=0,k=c.ADDITION|c.SUBTRACTION,l=null,m=null,n=null,o=function(){i=b.PRACTICE,$("#startup").css("display","none"),$("#return").css("visibility","visible"),$(".question").css("display","block"),t()},p=function(){i=b.TIMED,$("#startup").css("display","none"),$("#progress").css("visibility","visible"),$(".submit").css("visibility","visible"),$(".question").css("display","block"),h=-1;var a=$("#questions");a.empty();for(var c=0;e>c;c++){var d=$('<div class="'+(0===c?"next":"next")+'"/>');a.append(d)}m=+new Date,$("#elapsed").height("0%"),l=setInterval(q,500),t()},q=function(){var a=+new Date-m;if(a>1e3*d)clearTimeout(l);else{var b=100*(a/(1e3*d));$("#elapsed").height(b+"%")}},r=function(){clearTimeout(l);var a=$("#questions").find(".correct").length;$("#results").css("display","block"),$("#results > div").html("Done!\n"+a+" of "+e+" correct")},s=function(){$("#results").css("display","none"),$("#return").css("visibility","hidden"),$("#progress").css("visibility","hidden"),$("#startup").css("display","block"),$(".question").css("display","none"),$(".submit").css("visibility","hidden"),clearTimeout(l),$(".problem").each(function(a,b){u(b)})},t=function(){i===b.TIMED&&h>=0&&$("#questions").find("div").eq(h).toggleClass("current"),h++,i===b.TIMED&&(h===e?r():$("#questions").find("div").eq(h).toggleClass("current"));for(var d=Math.floor(4*Math.random()+1),l=Math.floor(Math.random()*f+1),m=Math.floor(Math.random()*f+1),o="+",p=!1;!p;)if(p=!0,1===d&&k&c.ADDITION)a=l+m;else if(2===d&&k&c.SUBTRACTION){l=Math.floor(Math.random()*g+1),m=Math.floor(Math.random()*g+1);var q=l;l+=m,a=q,o="-"}else 3===d&&k&c.MULTIPLICATION?o="*":4===d&&k&c.DIVISION?o="/":(d=Math.floor(4*Math.random()+1),p=!1);var s=$(".problem").eq(j);s.toggleClass("problemActive",!1),s.toggleClass("problemOut",!0),s.css("-webkit-transform","skewx(30deg) translatex(150px)"),n=s,setTimeout(function(){u(n.get(0))},500),j=0===j?1:0,s=$(".problem").eq(j),s.find(".num1").text(l),s.find(".operator").text(o),s.find(".num2").text(m),s.css("-webkit-transition-duration","0.5s"),s.css("-moz-transition-duration","0.5s"),s.css("-o-transition-duration","0.5s"),s.css("-ms-transition-duration","0.5s"),s.css("transition-duration","0.5s"),s.toggleClass("problemActive",!0),s.css("-webkit-transform","skewx(0deg) translatex(0px)")},u=function(a){$(a).css("-webkit-transition-duration","0s"),$(a).css("-ms-transition-duration","0s"),$(a).css("-o-transition-duration","0s"),$(a).css("-moz-transition-duration","0s"),$(a).css("transition-duration","0s"),$(a).toggleClass("problemOut",!1),$(a).toggleClass("problemActive",!1),$(a).css("-webkit-transform","skewx(-30deg) translatex(-150px)")},v=function(){$(".response").val("")},w=function(c){var d=parseInt(c)===a;if(i===b.TIMED){var e=$("#questions");e.find("div").eq(h).toggleClass("next"),e.find("div").eq(h).toggleClass(d?"correct":"incorrect")}(d||i===b.TIMED)&&(v(),t())},x=function(a){return a>=48&&57>=a||a>=96&&105>=a||27===a||8===a},y=function(){$("#next").click(t),$("#practice").click(o),$("#timed").click(p),$("#return").click(s),$("#done").click(s);var a=$(".response");a.keydown(function(a){return MF.isValidResponseKey(a.keyCode)}),a.keyup(function(a){"27"==a.keyCode?v():8===a.keyCode||(13===a.keyCode?i===b.TIMED&&w($(this).val()):i!==b.TIMED&&w($(this).val()))}),a.change(function(){w($(this).val())}),a.focus(),$("#submit").click(function(){w($("#"+nextQuestionId).find(".response").val())})};return{nextQuestion:t,clearResponse:v,responseUpdated:w,isValidResponseKey:x,init:y}}(),$(document).ready(function(){$.fn.mobileMenu&&$("ol#id").mobileMenu({switchWidth:768,topOptionText:"Choose a page",indentString:"&nbsp;&nbsp;&nbsp;"}),$.fn.placeholder&&$("input, textarea").placeholder(),MF.init()});